platform :ios, '16.0'

target 'Runner' do
  use_frameworks!
  use_modular_headers!

  flutter_install_all_ios_pods(File.dirname(File.realpath(__FILE__)))
end

# Имитация flutter_install_all_ios_pods
def flutter_install_all_ios_pods(flutter_application_path)
  install_flutter_engine_pod
  install_flutter_plugin_pods
end

def install_flutter_engine_pod
  pod 'Flutter', :path => '.symlinks/flutter/ios'
end

def install_flutter_plugin_pods
  plugin_pods = {
    'provider' => 'provider',
    'path_provider' => 'path_provider',
    'table_calendar' => 'table_calendar',
    'intl' => 'intl',
    'timezone' => 'timezone',
    'firebase_core' => 'firebase_core',
    'firebase_auth' => 'firebase_auth',
    'cloud_firestore' => 'cloud_firestore',
    'image_picker' => 'image_picker',
    'firebase_storage' => 'firebase_storage',
    'firebase_messaging' => 'firebase_messaging',
    'googleapis_auth' => 'googleapis_auth',
    'http' => 'http',
    'permission_handler' => 'permission_handler',
    'awesome_notifications' => 'awesome_notifications',
    'foundation' => 'foundation'
  }

  plugin_pods.each do |name, path|
    pod name, :path => File.join('.symlinks/plugins', path, 'ios')
  end
end